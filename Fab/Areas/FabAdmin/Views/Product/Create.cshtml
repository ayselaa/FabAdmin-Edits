@model FabAdmin.ViewModels.ProductFolder.ProductVM



@{
    ViewData["Title"] = "Create";
}



<style>
    .ProductPartsContainertext {
        margin-right: 20px;
    }
</style>

<div class="entert-form" style="padding-left: 50px;">

    <h1 style="margin-bottom: 2rem;" class="text-change-size">Create Product</h1>

    <form method="post" enctype="multipart/form-data" asp-action="Create" asp-controller="Product">


        <div class="form-group  mt-2 mb-4 my-5">
            <div class="image-uploaddd">

                <label class="labelstyle addimages-lbl" for="Images">
                    <div class="file-input">
                        <h3 class="mt-1 addlogoclass" style="color: black;">
                            <span>+</span>  Add img
                            <input type="file" multiple required id="Images" name="Images" class="form-control-file addhoverinput imagepreview1" accept=".jpg,.png" />
                        </h3>
                    </div>
                </label>


                <output style="display:flex;" id="output1"></output>
                <span style="color:gray;">(  .svg file, max-300kbt )</span>
            </div>
        </div>


        @*//////////////////////////*@

        <div class="form-group  mt-2 mb-4 my-5">
            <div class="File-uploaddd">

                <label class="labelstyle addimages-lbl" for="Properties">
                    <div class="file-input">
                        <h3 class="mt-1 addlogoclass" style="color: black;">
                            <span>+</span> Add Properties File
                            <input type="file" required id="Properties" name="Properties" class="form-control-file addhoverinput" onchange="CreatePdfPre(this)" accept=".pdf" />
                        </h3>
                    </div>
                </label>
                <output style="display:flex;display:none;" id="restaurantmenupdf">

                    <iframe src="" id="PdfPreviewbanner" style=" height: 300px;border: none;width:28%;"></iframe>
                </output>



                <output style="display:flex;" id="output1"></output>
                <span style="color:gray;">(  .pdf file, max-1300kbt )</span>
            </div>
        </div>





        <br />
        <br />

        <div id="ProductPartsContainer" style="display:flex;">
            <div class="ProductPartsContainertext">@Html.DropDownList("CategoryId", new SelectList(ViewBag.Categories, "Id", "Name"), "Select a Category", new { id = "categoryDropdown" })</div>
            <div class="ProductPartsContainertext">
                @Html.DropDownList("SubCategoryId", new SelectList(ViewBag.SubCategories, "Id", "Name"), "Select a Sub-Category", new { id = "categoryDropdown" })
            </div>
        </div>

        <br />
        <div id="ProductPartsContainerAppear" style="display:flex;">
            <div class="ProductPartsContainertext">
                @Html.DropDownList("ApplicatId", new SelectList(ViewBag.Applicat , "Id", "Name"), "Select a Application", new { id = "categoryDropdown" })
            </div>
            <div class="ProductPartsContainertext">
                @Html.DropDownList("AppearId", new SelectList(ViewBag.Appear, "Id", "Name"), "Select a Appearance", new { id = "categoryDropdown" })
            </div>
            <div class="ProductPartsContainertext">
                @Html.DropDownList("CharId", new SelectList(ViewBag.Char, "Id", "Name"), "Select a Specialties", new { id = "categoryDropdown" })
            </div>
        </div>









        <div class="form-group  mt-2 mb-3">
            <label class="labelstyle" for="Brand">Brand</label>
            <textarea style="border: 1px solid #7e737352;" id="Brand" name="Brand" class="form-control addhoverinput"></textarea>
        </div>


        <div class="form-group  mt-2 mb-3">
            <label class="labelstyle" for="ProductCode">ProductCode</label>
            <textarea style="border: 1px solid #7e737352;" id="ProductCode" name="ProductCode" class="form-control addhoverinput"></textarea>
        </div>




        @*//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////*@


        <div class="form-group  mt-2 mb-3">
            <label class="labelstyle" for="translates[0].LangCode">Language Code</label>
            <input style="border: 1px solid #7e737352;" type="text" style="width:4%;" readonly id="translates[0].LangCode" name="Translates[0].LangCode" class="form-control addhoverinput" value="az" required>

        </div>

        <div class="form-group  mt-2 mb-3">
            <label class="labelstyle" for="translates[0].Name">Name-az</label>
            <textarea style="border: 1px solid #7e737352;" id="translates[0].Name" name="Translates[0].Name" class="form-control addhoverinput" required></textarea>
        </div>

        <div class="form-group  mt-2 mb-3">
            <label class="labelstyle" for="translates[0].Desc">Desc-az</label>
            <textarea style="border: 1px solid #7e737352;" id="translates[0].Desc" name="Translates[0].Desc" class="form-control addhoverinput" required></textarea>
        </div>

        <div class="form-group  mt-2 mb-3">
            <label class="labelstyle" for="translates[0].ProducerCountry">ProducerCountry-az</label>
            <textarea style="border: 1px solid #7e737352;" id="translates[0].ProducerCountry" name="Translates[0].ProducerCountry" class="form-control addhoverinput" required></textarea>
        </div>
        <div class="form-group  mt-2 mb-3">
            <label class="labelstyle" for="translates[0].Length">Length-az</label>
            <textarea style="border: 1px solid #7e737352;" id="translates[0].Length" name="Translates[0].Length" class="form-control addhoverinput" required></textarea>
        </div>
        <div class="form-group  mt-2 mb-3">
            <label class="labelstyle" for="translates[0].Size">Size-az</label>
            <textarea style="border: 1px solid #7e737352;" id="translates[0].Size" name="Translates[0].Size" class="form-control addhoverinput" required></textarea>
        </div>
        <div class="form-group  mt-2 mb-3">
            <label class="labelstyle" for="translates[0].Color">Color-az</label>
            <textarea style="border: 1px solid #7e737352;" id="translates[0].Color" name="Translates[0].Color" class="form-control addhoverinput" required></textarea>
        </div>

        @*//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////*@

        <div class="form-group  mt-2 mb-3">
            <label class="labelstyle" for="translates[1].LangCode">Language Code</label>
            <input style="border: 1px solid #7e737352;" type="text" style="width:4%;" readonly id="translates[1].LangCode" name="Translates[1].LangCode" class="form-control addhoverinput" value="en" required>

        </div>

        <div class="form-group  mt-2 mb-3">
            <label class="labelstyle" for="translates[1].Name">Name-en</label>
            <textarea style="border: 1px solid #7e737352;" id="translates[1].Name" name="Translates[1].Name" class="form-control addhoverinput" required></textarea>
        </div>

        <div class="form-group  mt-2 mb-3">
            <label class="labelstyle" for="translates[1].Desc">Desc-en</label>
            <textarea style="border: 1px solid #7e737352;" id="translates[1].Desc" name="Translates[1].Desc" class="form-control addhoverinput" required></textarea>
        </div>

        <div class="form-group  mt-2 mb-3">
            <label class="labelstyle" for="translates[1].ProducerCountry">ProducerCountry-en</label>
            <textarea style="border: 1px solid #7e737352;" id="translates[1].ProducerCountry" name="Translates[1].ProducerCountry" class="form-control addhoverinput" required></textarea>
        </div>



        <div class="form-group  mt-2 mb-3">
            <label class="labelstyle" for="translates[1].Length">Length-en</label>
            <textarea style="border: 1px solid #7e737352;" id="translates[1].Length" name="Translates[1].Length" class="form-control addhoverinput" required></textarea>
        </div>

        <div class="form-group  mt-2 mb-3">
            <label class="labelstyle" for="translates[1].Size">Size-en</label>
            <textarea style="border: 1px solid #7e737352;" id="translates[1].Size" name="Translates[1].Size" class="form-control addhoverinput" required></textarea>
        </div>

        <div class="form-group  mt-2 mb-3">
            <label class="labelstyle" for="translates[1].Color">Color-en</label>
            <textarea style="border: 1px solid #7e737352;" id="translates[1].Color" name="Translates[1].Color" class="form-control addhoverinput" required></textarea>
        </div>






        @*//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////*@

        <div class="form-group  mt-2 mb-3">
            <label class="labelstyle" for="translates[2].LangCode">Language Code</label>
            <input style="border: 1px solid #7e737352;" type="text" style="width:4%;" readonly id="translates[2].LangCode" name="Translates[2].LangCode" class="form-control addhoverinput" value="ru" required>

        </div>

        <div class="form-group  mt-2 mb-3">
            <label class="labelstyle" for="translates[2].Name">Name-ru</label>
            <textarea style="border: 1px solid #7e737352;" id="translates[2].Name" name="Translates[2].Name" class="form-control addhoverinput" required></textarea>
        </div>

        <div class="form-group  mt-2 mb-3">
            <label class="labelstyle" for="translates[2].Desc">Desc-ru</label>
            <textarea style="border: 1px solid #7e737352;" id="translates[2].Desc" name="Translates[2].Desc" class="form-control addhoverinput" required></textarea>
        </div>

        <div class="form-group  mt-2 mb-3">
            <label class="labelstyle" for="translates[2].ProducerCountry">ProducerCountry-ru</label>
            <textarea style="border: 1px solid #7e737352;" id="translates[2].ProducerCountry" name="Translates[2].ProducerCountry" class="form-control addhoverinput" required></textarea>
        </div>
        <div class="form-group  mt-2 mb-3">
            <label class="labelstyle" for="translates[2].Length">Length-ru</label>
            <textarea style="border: 1px solid #7e737352;" id="translates[2].Length" name="Translates[2].Length" class="form-control addhoverinput" required></textarea>
        </div>

        <div class="form-group  mt-2 mb-3">
            <label class="labelstyle" for="translates[2].Size">Size-ru</label>
            <textarea style="border: 1px solid #7e737352;" id="translates[2].Size" name="Translates[2].Size" class="form-control addhoverinput" required></textarea>
        </div>

        <div class="form-group  mt-2 mb-3">
            <label class="labelstyle" for="translates[2].Color">Color-ru</label>
            <textarea style="border: 1px solid #7e737352;" id="translates[2].Color" name="Translates[2].Color" class="form-control addhoverinput" required></textarea>
        </div>



        @*//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////*@




        <button type="submit" class="btn createbuttonn">Create</button>
    </form>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.0/jquery.min.js" integrity="sha512-3gJwYpMe3QewGELv8k/BX9vcqhryRdzRMxVfq6ngyWXwo03GFEzjsUm8Q7RZcHPHksttq7/GFoxjCVUjkjvPdw=="
            crossorigin="anonymous" referrerpolicy="no-referrer"></script>


    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script>
        const outputaz = document.querySelector("#output1");

        const inputaz = document.querySelector(".imagepreview1");
        let imagesArrayaz = [];

        function displayImagesone() {
            let images = ""
            imagesArrayaz.forEach((image, index) => {
                images += `<div class="image" style="display:flex;" >
                                                        <img src="${URL.createObjectURL(image)}" alt="image" style="width:100px; height:100px; display:block;">
                                                    <span onclick="deleteImageaz(${index})" style="cursor:pointer;">&times;</span>
                                                  </div>`
            })
            outputaz.innerHTML = images


        }
        function deleteImageaz(index) {
            imagesArrayaz.splice(index, 1)
            inputaz.value = ""; // Clear the input element's value
            updateInputFilesaz();
            displayImagesone();

        }

        function updateInputFilesaz() {
            const newFiles = new DataTransfer();
            imagesArrayaz.forEach((image) => {
                newFiles.items.add(image);
            });
            inputaz.files = newFiles.files;
        }

        inputaz.addEventListener("change", () => {
            //const files = input.files
            //for (let i = 0; i < files.length; i++) {
            //    imagesArray.push(files[i])
            //}
            const filesaz = Array.from(inputaz.files);
            imagesArrayaz = imagesArrayaz.concat(filesaz);

            displayImagesone();
        })
                        ///////////////// end of it




        function imageIsLoaded(e) {

            $('#pdfprew' + abc)
                .attr('src', e.target.result);
        };


        function CreatePdfPre(inputmenu) {
            $('#restaurantmenupdf').css("display", "block")
            //$("restaurantmenupdf").css("display", "block")
            if (inputmenu.files[0]) {
                var uploadimg = new FileReader();
                uploadimg.onload = function (displayimg) {
                    $("#PdfPreviewbanner").attr('src', displayimg.target.result);
                }
                uploadimg.readAsDataURL(inputmenu.files[0]);
            }
        }
    </script>
